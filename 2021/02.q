inp:read0`:2021/input/02.txt;
d:`forward`down`up!(0 1 0;1 0 1;-1 0 -1);
prd 1_sum t:d where (!). "SJ"$'flip" "vs/:inp
t:`aim`position`depth!/:t;
exec last depth*last sums position from update depth:sums position*sums aim from t